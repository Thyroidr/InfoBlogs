<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/InfoBlogs/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/InfoBlogs/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/InfoBlogs/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/InfoBlogs/images/logo.svg" color="#222">

<link rel="stylesheet" href="/InfoBlogs/css/main.css">


<link rel="stylesheet" href="/InfoBlogs/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"thyroidr.github.io","root":"/InfoBlogs/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","Muse | Mist":280,"display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Range Minimum (Maximum) QueryFor a given array $a$ of size $n$, $q$ of queries are given for the minimum (maximum) element in range $l$ to $r$. This is called the Range Minimum (Maximum) Query problem">
<meta property="og:type" content="article">
<meta property="og:title" content="RMQ">
<meta property="og:url" content="https://thyroidr.github.io/InfoBlogs/Data-Structures/Data%20Structures/RMQ/">
<meta property="og:site_name" content="InfoBlogs">
<meta property="og:description" content="Range Minimum (Maximum) QueryFor a given array $a$ of size $n$, $q$ of queries are given for the minimum (maximum) element in range $l$ to $r$. This is called the Range Minimum (Maximum) Query problem">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://thyroidr.github.io/uploads/RMQ/tree.gif">
<meta property="article:published_time" content="2018-09-09T04:43:36.000Z">
<meta property="article:modified_time" content="2019-04-17T01:38:56.000Z">
<meta property="article:author" content="Ryan Wang">
<meta property="article:tag" content="c++">
<meta property="article:tag" content="data structures">
<meta property="article:tag" content="RMQ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://thyroidr.github.io/uploads/RMQ/tree.gif">

<link rel="canonical" href="https://thyroidr.github.io/InfoBlogs/Data-Structures/Data%20Structures/RMQ/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>RMQ | InfoBlogs</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/InfoBlogs/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">InfoBlogs</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">by Ryan Wang</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/InfoBlogs/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/InfoBlogs/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/InfoBlogs/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/InfoBlogs/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/thyroidr" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://thyroidr.github.io/InfoBlogs/Data-Structures/Data%20Structures/RMQ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/InfoBlogs/images/avatar.png">
      <meta itemprop="name" content="Ryan Wang">
      <meta itemprop="description" content="Museum of my involvement in Informatics Olympiads & competitive programming">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="InfoBlogs">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          RMQ
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-09-09 14:43:36" itemprop="dateCreated datePublished" datetime="2018-09-09T14:43:36+10:00">2018-09-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-04-17 11:38:56" itemprop="dateModified" datetime="2019-04-17T11:38:56+10:00">2019-04-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/InfoBlogs/categories/Data-Structures/" itemprop="url" rel="index"><span itemprop="name">Data Structures</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="Range-Minimum-Maximum-Query"><a href="#Range-Minimum-Maximum-Query" class="headerlink" title="Range Minimum (Maximum) Query"></a>Range Minimum (Maximum) Query</h2><p>For a given array $a$ of size $n$, $q$ of queries are given for the minimum (maximum) element in range $l$ to $r$. This is called the Range Minimum (Maximum) Query problem. There exist various ways of solving this problem. </p>
<a id="more"></a>
<h3 id="Naive-Method"><a href="#Naive-Method" class="headerlink" title="Naive Method"></a>Naive Method</h3><p>Just scan from $l$ to $r$. Simple. $O(qn)$ time complexity. </p>
<h3 id="Segment-Tree"><a href="#Segment-Tree" class="headerlink" title="Segment Tree"></a>Segment Tree</h3><p>See Segment Tree (I will add the link later). This method is best for online scenarios (where the array changes between queries). $O(qlogn)$ time complexity.</p>
<h3 id="Dense-Query-Scenario"><a href="#Dense-Query-Scenario" class="headerlink" title="Dense Query Scenario"></a>Dense Query Scenario</h3><p>When $q$ is large, we might as well record the minimum (maximum) in every range. $O(n^2)$ time complexity.</p>
<h3 id="Sparse-Table-Algorithm"><a href="#Sparse-Table-Algorithm" class="headerlink" title="Sparse Table Algorithm"></a>Sparse Table Algorithm</h3><p>This is really what I want to include in this post. The ultimate $O(1)$ time algorithm. The sparse table algorithm uses the principle of dynamic programming. </p>
<h4 id="Pre-processing"><a href="#Pre-processing" class="headerlink" title="Pre-processing"></a>Pre-processing</h4><p>For simplicity, let the query be for minimum. Let $f(i, j)$ store the minimum value for the range $i$ to $i + 2^j - 1$. The $f$ array might look lik this (our array starts at 1),</p>
<table>
<thead>
<tr>
<th>i, j</th>
<th>range</th>
<th>i, j</th>
<th>range</th>
<th>i, j</th>
<th>range</th>
</tr>
</thead>
<tbody><tr>
<td>1, 0</td>
<td>1 to 1</td>
<td>2, 0</td>
<td>2 to 2</td>
<td>3, 0</td>
<td>3 to 3</td>
</tr>
<tr>
<td>1, 1</td>
<td>1 to 2</td>
<td>2, 1</td>
<td>2 to 3</td>
<td>3, 1</td>
<td>3 to 4</td>
</tr>
<tr>
<td>1, 2</td>
<td>1 to 4</td>
<td>2, 2</td>
<td>2 to 5</td>
<td>3, 2</td>
<td>3 to 6</td>
</tr>
<tr>
<td>1, 3</td>
<td>1 to 8</td>
<td>2, 3</td>
<td>2 to 9</td>
<td>3, 3</td>
<td>3 to 10</td>
</tr>
</tbody></table>
<p>We have the equation that,<br>$f[i][j] = min(f[i][j-1], f[i + 2^(j-1)][j-1])$</p>
<p>As $f[i][0] = a[i]$ for all $1 \le i \le n$, we may build the f array from bottom-up. </p>
<h4 id="Query"><a href="#Query" class="headerlink" title="Query"></a>Query</h4><p>For any query for the minimum in the range $l$ to $r$, we must first find the largest $k$ satisfying $2^k &lt; (r-l+1)$. This way we can divide the range $l$ to $r$ into two overlapping sub-ranges, $[l, l + 2^k - 1]$ and $[r - 2^k + 1, r]$, respectively represented by $f[l][k]$ and $f[r-2^k+1][k]$. The answer for our query is hence $min(f[l][k], f[r-2^k+1][k])$.</p>
<h2 id="Exercise-USACO-2007-Gold-Division-Balanced-Lineup"><a href="#Exercise-USACO-2007-Gold-Division-Balanced-Lineup" class="headerlink" title="Exercise: USACO 2007 Gold Division - Balanced Lineup"></a>Exercise: USACO 2007 Gold Division - Balanced Lineup</h2><p>You can find the problem by going to the <a target="_blank" rel="noopener" href="http://contest.usaco.org/JAN07.htm">USACO website</a> (which does not have online judge. Alternatively you can go to the Peking University Online Judge <a target="_blank" rel="noopener" href="http://poj.org/problem?id=3264">POJ</a>, register, and complete the question.</p>
<h3 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h3><p>For the daily milking, Farmer John&#39;s $N$ cows ($1 \le N \le 50,000$) always line up in the same order. One day Farmer John decides to organize a game of Ultimate Frisbee with some of the cows. To keep things simple, he will take a contiguous range of cows from the milking lineup to play the game. However, for all the cows to have fun they should not differ too much in height.</p>
<p>Farmer John has made a list of $Q$ ($1 \le Q \le 200,000$) potential groups of cows and their heights ($1 \le height \le 1,000,000$). For each group, he wants your help to determine the difference in height between the shortest and the tallest cow in the group.</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>Line $1$: Two space-separated integers, $N$ and $Q$.<br>Lines $2 \ldots N+1$: Line $i+1$ contains a single integer that is the height of cow $i$<br>Lines $N+2 \ldots N+Q+1$: Two integers $A$ and $B$ $(1 \le A ≤ B \le N)$, representing the range of cows from $A$ to $B$ inclusive.</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Lines $1 \ldots Q$: Each line contains a single integer that is a response to a reply and indicates the difference in height between the tallest and shortest cow in the range.</p>
<h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6</span> <span class="number">3</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">1</span> <span class="number">5</span></span><br><span class="line"><span class="number">4</span> <span class="number">6</span></span><br><span class="line"><span class="number">2</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>
<h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>This is a standard RMQ quesiton looking for both the maximum and the minimum. </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> gcc optimize(o3)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> fo(counter, starter, ender) for(ll counter = starter; counter &lt;= ender; counter++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rfo(counter, starter, ender) for(ll counter = starter; counter &gt;= ender; counter--)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 2147483647</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 50010</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(T&amp;x)</span></span>&#123;</span><br><span class="line">    x = <span class="number">0</span>; <span class="keyword">char</span> c; <span class="keyword">int</span> sign = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123; c = getchar(); <span class="keyword">if</span>(c == <span class="string">&#x27;-&#x27;</span>) sign = <span class="number">-1</span>; &#125;<span class="keyword">while</span>(!<span class="built_in">isdigit</span>(c));</span><br><span class="line">    <span class="keyword">do</span> &#123; x = x * <span class="number">10</span> + c - <span class="string">&#x27;0&#x27;</span>; c = getchar(); &#125;<span class="keyword">while</span>(<span class="built_in">isdigit</span>(c));</span><br><span class="line">    x *= sign;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, a[N], q, fMax[N][<span class="number">20</span>], fMin[N][<span class="number">20</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initMax</span><span class="params">()</span></span>&#123;</span><br><span class="line">    fo(i, <span class="number">1</span>, n)fMax[i][<span class="number">0</span>] = a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; <span class="number">1</span>&lt;&lt;j &lt;= n; j++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i + (<span class="number">1</span>&lt;&lt;j) - <span class="number">1</span> &lt;= n; i++)</span><br><span class="line">            fMax[i][j] = max(fMax[i][j<span class="number">-1</span>], fMax[i + (<span class="number">1</span>&lt;&lt;(j<span class="number">-1</span>))][j<span class="number">-1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initMin</span><span class="params">()</span></span>&#123;</span><br><span class="line">    fo(i, <span class="number">1</span>, n)fMin[i][<span class="number">0</span>] = a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; <span class="number">1</span>&lt;&lt;j &lt;= n; j++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i + (<span class="number">1</span>&lt;&lt;j) - <span class="number">1</span> &lt;= n; i++)</span><br><span class="line">            fMin[i][j] = min(fMin[i][j<span class="number">-1</span>], fMin[i + (<span class="number">1</span>&lt;&lt;(j<span class="number">-1</span>))][j<span class="number">-1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">queryMax</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="keyword">int</span>(<span class="built_in">log</span>(<span class="keyword">double</span>(r-l+<span class="number">1</span>)) / <span class="built_in">log</span>(<span class="number">2.0</span>));</span><br><span class="line">    <span class="keyword">return</span> max(fMax[l][k], fMax[r - (<span class="number">1</span>&lt;&lt;k) + <span class="number">1</span>][k]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">queryMin</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="keyword">int</span>(<span class="built_in">log</span>(<span class="keyword">double</span>(r-l+<span class="number">1</span>)) / <span class="built_in">log</span>(<span class="number">2.0</span>));</span><br><span class="line">    <span class="keyword">return</span> min(fMin[l][k], fMin[r - (<span class="number">1</span>&lt;&lt;k) + <span class="number">1</span>][k]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    read(n), read(q);</span><br><span class="line">    fo(i, <span class="number">1</span>, n)read(a[i]);</span><br><span class="line"></span><br><span class="line">    initMax(); initMin();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> l, r;</span><br><span class="line">    fo(i, <span class="number">1</span>, q)&#123;</span><br><span class="line">        read(l), read(r);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, queryMax(l, r) - queryMin(l, r));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Lowest-Common-Ancester"><a href="#Lowest-Common-Ancester" class="headerlink" title="Lowest Common Ancester"></a>Lowest Common Ancester</h2><p>Consider a rooted tree as shown below, we have $q$ queries, each looking for the lowest common ancester of two points $u$ and $v$.</p>
<p><img src="/uploads/RMQ/tree.gif" alt="tree"></p>
<center>Image from [danielp](https://www.topcoder.com/community/data-science/data-science-tutorials/range-minimum-query-and-lowest-common-ancestor/#Reduction%20from%20LCA%20to%20RMQ)</center>

<p>One way of approaching this problem is by transforming the tree into a linear array $e$ via the Euler Tour of the tree. The Euler Tour starts from the root of the tree, and travels in the same order as depth=first-search. Every time we reach a point, even if it had been traversed before, we add it to the end of $e$. For the tree above, its $e$ would be,</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>1</th>
<th>3</th>
<th>5</th>
<th>3</th>
<th>6</th>
<th>8</th>
<th>6</th>
<th>9</th>
<th>6</th>
<th>3</th>
<th>7</th>
<th>10</th>
<th>12</th>
<th>10</th>
<th>13</th>
<th>10</th>
<th>7</th>
<th>11</th>
<th>7</th>
<th>3</th>
<th>1</th>
<th>4</th>
<th>1</th>
</tr>
</thead>
</table>
<p>We should also maintain a $l$ array, where $l[i]$ is the depth of $e[i]$ (we can compute $l$ using dfs).</p>
<table>
<thead>
<tr>
<th>e</th>
<th>1</th>
<th>2</th>
<th>1</th>
<th>3</th>
<th>5</th>
<th>3</th>
<th>6</th>
<th>8</th>
<th>6</th>
<th>9</th>
<th>6</th>
<th>3</th>
<th>7</th>
<th>10</th>
<th>12</th>
<th>10</th>
<th>13</th>
<th>10</th>
<th>7</th>
<th>11</th>
<th>7</th>
<th>3</th>
<th>1</th>
<th>4</th>
<th>1</th>
</tr>
</thead>
<tbody><tr>
<td>l</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>5</td>
<td>4</td>
<td>5</td>
<td>4</td>
<td>3</td>
<td>4</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
</tbody></table>
<p>Notice that for any two vertices, if we find the location of them in the <code>e</code> array (if there exist multiple locations, any of them would suffice), then their lowest common ancester is the element between the two locations with least depth (this is to do with the Euler Tour). We can hence use RMQ to answer the queries. Below is the solution to LCA problems using the sparse-table algorithm for RMQ. </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> gcc optimize(o3)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> fo(counter, starter, ender) for(ll counter = starter; counter &lt;= ender; counter++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rfo(counter, starter, ender) for(ll counter = starter; counter &gt;= ender; counter--)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 2147483647</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 910</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M 30010</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(T&amp;x)</span></span>&#123;</span><br><span class="line">    x = <span class="number">0</span>; <span class="keyword">char</span> c; <span class="keyword">int</span> sign = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123; c = getchar(); <span class="keyword">if</span>(c == <span class="string">&#x27;-&#x27;</span>) sign = <span class="number">-1</span>; &#125;<span class="keyword">while</span>(!<span class="built_in">isdigit</span>(c));</span><br><span class="line">    <span class="keyword">do</span> &#123; x = x * <span class="number">10</span> + c - <span class="string">&#x27;0&#x27;</span>; c = getchar(); &#125;<span class="keyword">while</span>(<span class="built_in">isdigit</span>(c));</span><br><span class="line">    x *= sign;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, k1, k2, k3, root, e[M], l[M], h[N], etop, f[M][<span class="number">20</span>], q, ans[N];</span><br><span class="line"><span class="keyword">bool</span> book[N];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; connected[N];</span><br><span class="line"></span><br><span class="line"><span class="comment">//generate the Euler Tour of the tree</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> id, <span class="keyword">int</span> dep)</span></span>&#123;</span><br><span class="line">    e[++etop] = id;</span><br><span class="line">    l[etop] = dep + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(!h[id]) h[id] = etop;</span><br><span class="line">    <span class="keyword">if</span>(!connected[id].size()) <span class="keyword">return</span>;</span><br><span class="line">    fo(i, <span class="number">0</span>, connected[id].size()<span class="number">-1</span>)&#123;</span><br><span class="line">        dfs(connected[id][i], dep+<span class="number">1</span>);</span><br><span class="line">        e[++etop] = id;</span><br><span class="line">        l[etop] = dep + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//generate the sparse table of the tree</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initf</span><span class="params">()</span></span>&#123;</span><br><span class="line">    fo(i, <span class="number">1</span>, etop)f[i][<span class="number">0</span>] = i;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; (<span class="number">1</span>&lt;&lt;j) &lt;= etop; j++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i + (<span class="number">1</span>&lt;&lt;j) - <span class="number">1</span> &lt;= etop; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(l[f[i][j<span class="number">-1</span>]] &lt; l[f[i + (<span class="number">1</span>&lt;&lt;(j<span class="number">-1</span>))][j<span class="number">-1</span>]]) f[i][j] = f[i][j<span class="number">-1</span>];</span><br><span class="line">            <span class="keyword">else</span> f[i][j] = f[i + (<span class="number">1</span>&lt;&lt;(j<span class="number">-1</span>))][j<span class="number">-1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//query for the sparse table, returns id</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></span>&#123;</span><br><span class="line">    u = h[u], v = h[v];</span><br><span class="line">    <span class="keyword">if</span>(u &gt; v) swap(u, v);</span><br><span class="line">    <span class="keyword">int</span> k = <span class="keyword">int</span>(log2(v - u + <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">if</span>(l[f[u][k]] &lt; l[f[v - (<span class="number">1</span>&lt;&lt;k) + <span class="number">1</span>][k]]) <span class="keyword">return</span> e[f[u][k]];</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> e[f[v - (<span class="number">1</span>&lt;&lt;k) + <span class="number">1</span>][k]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    read(n);</span><br><span class="line">    fo(i, <span class="number">1</span>, n)&#123;</span><br><span class="line">        read(k1), read(k2);</span><br><span class="line">        fo(j, <span class="number">1</span>, k2)read(k3), connected[k1].push_back(k3), book[k3] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    fo(i, <span class="number">1</span>, n)<span class="keyword">if</span>(!book[i])&#123;root = i; <span class="keyword">break</span>;&#125;</span><br><span class="line">    dfs(root, <span class="number">0</span>);</span><br><span class="line">    initf();</span><br><span class="line"></span><br><span class="line">    read(q);</span><br><span class="line">    fo(i, <span class="number">1</span>, q)&#123;</span><br><span class="line">        read(k1), read(k2);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, query(k1, k2));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a target="_blank" rel="noopener" href="https://www.topcoder.com/community/data-science/data-science-tutorials/range-minimum-query-and-lowest-common-ancestor/#Reduction%20from%20LCA%20to%20RMQ">https://www.topcoder.com/community/data-science/data-science-tutorials/range-minimum-query-and-lowest-common-ancestor/#Reduction%20from%20LCA%20to%20RMQ</a></p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>thyroidr
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://thyroidr.github.io/InfoBlogs/Data-Structures/Data%20Structures/RMQ/" title="RMQ">https://thyroidr.github.io/InfoBlogs/Data-Structures/Data Structures/RMQ/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/InfoBlogs/tags/c/" rel="tag"># c++</a>
              <a href="/InfoBlogs/tags/data-structures/" rel="tag"># data structures</a>
              <a href="/InfoBlogs/tags/RMQ/" rel="tag"># RMQ</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/InfoBlogs/Basic-C/Basic-C++/functions/" rel="prev" title="Functions">
      <i class="fa fa-chevron-left"></i> Functions
    </a></div>
      <div class="post-nav-item">
    <a href="/InfoBlogs/Number-Theory-and-Mathematics/Number%20Theory%20and%20Mathematics/game-theory/" rel="next" title="Game Theory in Competitive Programming">
      Game Theory in Competitive Programming <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Range-Minimum-Maximum-Query"><span class="nav-number">1.</span> <span class="nav-text">Range Minimum (Maximum) Query</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Naive-Method"><span class="nav-number">1.1.</span> <span class="nav-text">Naive Method</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Segment-Tree"><span class="nav-number">1.2.</span> <span class="nav-text">Segment Tree</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dense-Query-Scenario"><span class="nav-number">1.3.</span> <span class="nav-text">Dense Query Scenario</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sparse-Table-Algorithm"><span class="nav-number">1.4.</span> <span class="nav-text">Sparse Table Algorithm</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Pre-processing"><span class="nav-number">1.4.1.</span> <span class="nav-text">Pre-processing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Query"><span class="nav-number">1.4.2.</span> <span class="nav-text">Query</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exercise-USACO-2007-Gold-Division-Balanced-Lineup"><span class="nav-number">2.</span> <span class="nav-text">Exercise: USACO 2007 Gold Division - Balanced Lineup</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-Description"><span class="nav-number">2.1.</span> <span class="nav-text">Problem Description</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Input"><span class="nav-number">2.2.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output"><span class="nav-number">2.3.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sample-Input"><span class="nav-number">2.4.</span> <span class="nav-text">Sample Input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sample-Output"><span class="nav-number">2.5.</span> <span class="nav-text">Sample Output</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution"><span class="nav-number">3.</span> <span class="nav-text">Solution</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lowest-Common-Ancester"><span class="nav-number">4.</span> <span class="nav-text">Lowest Common Ancester</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">5.</span> <span class="nav-text">Reference</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Ryan Wang"
      src="/InfoBlogs/images/avatar.png">
  <p class="site-author-name" itemprop="name">Ryan Wang</p>
  <div class="site-description" itemprop="description">Museum of my involvement in Informatics Olympiads & competitive programming</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/InfoBlogs/archives/">
        
          <span class="site-state-item-count">75</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/InfoBlogs/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/InfoBlogs/tags/">
          
        <span class="site-state-item-count">53</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/thyroidr" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;thyroidr" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:ryanxiaowang2001@gmail.com" title="E-Mail → mailto:ryanxiaowang2001@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/rxw/" title="LinkedIn → https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;rxw&#x2F;" rel="noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i>LinkedIn</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/InfoBlogs/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ryan Wang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/InfoBlogs/lib/anime.min.js"></script>
  <script src="/InfoBlogs/lib/velocity/velocity.min.js"></script>
  <script src="/InfoBlogs/lib/velocity/velocity.ui.min.js"></script>

<script src="/InfoBlogs/js/utils.js"></script>

<script src="/InfoBlogs/js/motion.js"></script>


<script src="/InfoBlogs/js/schemes/muse.js"></script>


<script src="/InfoBlogs/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
